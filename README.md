# CAPTCHA-сервис
## О проекте
Это CAPTCHA-сервис, разработанный в рамках первой версии тестового задания в СКБ Контур.

В дальнейшем тестовое задание изменилось, а этот проект - нет (и не будет).
Сервис принимает 2 запроса:
1. **/getcaptcha**, GET-запрос. Возвращает в теле ответа CAPTCHA-картинку в формате PNG, в заголовках - идентификатор запроса (**request_id**) и разгадку для CAPTCHA (**captcha_string**);
2. **/postcaptcha**, POST-запрос. В POST-запрос необходимо вставить 2 параметра: **request_id** - идентификатор запроса, и **captcha_string** - разгадку для CAPTCHA. В теле ответа вернется только строка - "success" при успешной валидации ответа, и "error" при любой ошибке. Никаких других сообщений для пользователя не предусмотрено. Дополнительные заголовки не добавляются.

Строка для генерации CAPTCHA-картинок - *псевдо*случайна, размер строки задаётся параметром в сервисе, сама картинка рисуется библиотекой  java.awt. В отрисовку также внесены элементы случайности.

На одну CAPTCHA можно ответить только 1 раз, и только в течение ограниченного промежутка времени.

## Сборка проекта
Выполнить команду **mvn clean package spring-boot:repackage** из папки **capservice/web**
## Запуск сервиса
1. Перейти в папку **capservice/web/target**
2. Запустить файл web-1.0-SNAPSHOT.jar командой:
**java -jar ./web-1.0-SNAPSHOT.jar**
3. Сервер запущен, работает на порту **12112**
## Основные использованные библиотеки
* Spring Framework 5.0.2
* Jetty 9.4.8
* Lombok 1.16.20
* JUnit 4.12
